<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åˆ†å¸ƒå¼åè°ƒæœåŠ¡ä¹‹ZooKeeper | Arnold&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="https://fastly.jsdelivr.net/gh/ArnoldShu/cdn/vuepress/config.ts/logo.png">
    <meta name="description" content="Arnold&#39;s æŠ€æœ¯åšå®¢,ä¸“æ³¨åç«¯å­¦ä¹ ä¸æ€»ç»“ã€‚Java,Python,Node,git,githubç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="åç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,åç«¯å¼€å‘,åç«¯æ¡†æ¶,é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.7d5abd9a.css" as="style"><link rel="preload" href="/assets/js/app.af3fcf5c.js" as="script"><link rel="preload" href="/assets/js/2.4c32fe8d.js" as="script"><link rel="preload" href="/assets/js/28.2133d3df.js" as="script"><link rel="prefetch" href="/assets/js/10.e386da37.js"><link rel="prefetch" href="/assets/js/11.0825b323.js"><link rel="prefetch" href="/assets/js/12.e8b11edb.js"><link rel="prefetch" href="/assets/js/13.ea236225.js"><link rel="prefetch" href="/assets/js/14.cce87290.js"><link rel="prefetch" href="/assets/js/15.87d81251.js"><link rel="prefetch" href="/assets/js/16.6248110c.js"><link rel="prefetch" href="/assets/js/17.e84bf44f.js"><link rel="prefetch" href="/assets/js/18.b2b87c5e.js"><link rel="prefetch" href="/assets/js/19.fa6ba3b3.js"><link rel="prefetch" href="/assets/js/20.1a930bbd.js"><link rel="prefetch" href="/assets/js/21.9e5f4ab5.js"><link rel="prefetch" href="/assets/js/22.d5b76e10.js"><link rel="prefetch" href="/assets/js/23.ec844f22.js"><link rel="prefetch" href="/assets/js/24.4cf33fdc.js"><link rel="prefetch" href="/assets/js/25.8d0d6b74.js"><link rel="prefetch" href="/assets/js/26.83a31682.js"><link rel="prefetch" href="/assets/js/27.87801c77.js"><link rel="prefetch" href="/assets/js/29.27135441.js"><link rel="prefetch" href="/assets/js/3.ff6c3c12.js"><link rel="prefetch" href="/assets/js/30.7a115056.js"><link rel="prefetch" href="/assets/js/31.57211851.js"><link rel="prefetch" href="/assets/js/32.d4dca0fc.js"><link rel="prefetch" href="/assets/js/33.4acbb09a.js"><link rel="prefetch" href="/assets/js/34.61a8e130.js"><link rel="prefetch" href="/assets/js/35.6597d385.js"><link rel="prefetch" href="/assets/js/36.8a5f5813.js"><link rel="prefetch" href="/assets/js/37.5423ae85.js"><link rel="prefetch" href="/assets/js/38.8551283f.js"><link rel="prefetch" href="/assets/js/39.d94f8d0d.js"><link rel="prefetch" href="/assets/js/4.633610e3.js"><link rel="prefetch" href="/assets/js/40.124ce6c9.js"><link rel="prefetch" href="/assets/js/41.93e9dd35.js"><link rel="prefetch" href="/assets/js/42.57aeecf5.js"><link rel="prefetch" href="/assets/js/43.85de6f23.js"><link rel="prefetch" href="/assets/js/44.6945b9d0.js"><link rel="prefetch" href="/assets/js/45.3e8264ff.js"><link rel="prefetch" href="/assets/js/5.9f81fe57.js"><link rel="prefetch" href="/assets/js/6.bd850483.js"><link rel="prefetch" href="/assets/js/7.33a9de9d.js"><link rel="prefetch" href="/assets/js/8.42b96eb4.js"><link rel="prefetch" href="/assets/js/9.e714d031.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d5abd9a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://i.gifer.com/4Snl.gif" alt="Arnold's Blog" class="logo"> <span class="site-name can-hide">Arnold's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">ğŸ é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ–¥ï¸åç«¯" class="dropdown-title"><a href="/backend/" class="link-title">ğŸ–¥ï¸åç«¯</a> <span class="title" style="display:none;">ğŸ–¥ï¸åç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4c0f63/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Python</a></li></ul></div></div><div class="nav-item"><a href="/front/" class="nav-link">ğŸ’»å‰ç«¯</a></div><div class="nav-item"><a href="/technology/" class="nav-link">ğŸ•¸ï¸å‘¨è¾¹æŠ€æœ¯</a></div><div class="nav-item"><a href="/notes/" class="nav-link">ğŸ—’ï¸æœ­è®°</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â¬†ï¸æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">â¬†ï¸æ›´å¤š</a> <span class="title" style="display:none;">â¬†ï¸æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/113bc5/" class="nav-link">Tips</a></li><li class="dropdown-item"><!----> <a href="/pages/38cf7e/404" class="nav-link">ç”Ÿæ´»</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">æ€è€ƒ</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">ğŸ§‘â€ğŸ’»å…³äº</a></div><div class="nav-item"><a href="/pages/b190cd/" class="nav-link">ğŸ”–æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ—‚ï¸ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ğŸ—‚ï¸ç´¢å¼•</a> <span class="title" style="display:none;">ğŸ—‚ï¸ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/ArnoldShu" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://fastly.jsdelivr.net/gh/ArnoldShu/cdn/vuepress/config.ts/avatar.jpg"> <div class="blogger-info"><h3>Arnold Shu</h3> <span>çŸ¥äººè€…æ™ºï¼Œè‡ªçŸ¥è€…æ˜ã€‚èƒœäººè€…æœ‰åŠ›ï¼Œè‡ªèƒœè€…å¼ºã€‚</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">ğŸ é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ–¥ï¸åç«¯" class="dropdown-title"><a href="/backend/" class="link-title">ğŸ–¥ï¸åç«¯</a> <span class="title" style="display:none;">ğŸ–¥ï¸åç«¯</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4c0f63/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">Python</a></li></ul></div></div><div class="nav-item"><a href="/front/" class="nav-link">ğŸ’»å‰ç«¯</a></div><div class="nav-item"><a href="/technology/" class="nav-link">ğŸ•¸ï¸å‘¨è¾¹æŠ€æœ¯</a></div><div class="nav-item"><a href="/notes/" class="nav-link">ğŸ—’ï¸æœ­è®°</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="â¬†ï¸æ›´å¤š" class="dropdown-title"><a href="/more/" class="link-title">â¬†ï¸æ›´å¤š</a> <span class="title" style="display:none;">â¬†ï¸æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/113bc5/" class="nav-link">Tips</a></li><li class="dropdown-item"><!----> <a href="/pages/38cf7e/404" class="nav-link">ç”Ÿæ´»</a></li><li class="dropdown-item"><!----> <a href="/" class="nav-link">æ€è€ƒ</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">å‹æƒ…é“¾æ¥</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">ğŸ§‘â€ğŸ’»å…³äº</a></div><div class="nav-item"><a href="/pages/b190cd/" class="nav-link">ğŸ”–æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ—‚ï¸ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ğŸ—‚ï¸ç´¢å¼•</a> <span class="title" style="display:none;">ğŸ—‚ï¸ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div> <a href="https://github.com/ArnoldShu" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Maven</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Distributed</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/df64a2/" class="sidebar-link">åˆ†å¸ƒå¼å®šç†ä¹‹CAP</a></li><li><a href="/pages/96ffb3/" class="sidebar-link">å¸¸ç”¨åˆ†å¸ƒå¼äº‹åŠ¡åè®®</a></li><li><a href="/pages/e6f89c/" class="sidebar-link">åˆ†å¸ƒå¼â€œä¸€è‡´æ€§â€ç®—æ³•ä¹‹Paxos</a></li><li><a href="/pages/f96294/" class="sidebar-link">åˆ†å¸ƒå¼â€œä¸€è‡´æ€§â€ç®—æ³•ä¹‹Raft</a></li><li><a href="/pages/38cf7e/" aria-current="page" class="active sidebar-link">åˆ†å¸ƒå¼åè°ƒæœåŠ¡ä¹‹ZooKeeper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#zookeeper" class="sidebar-link">Zookeeper</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#zookeeperçš„æ•°æ®ç»“æ„" class="sidebar-link">zookeeperçš„æ•°æ®ç»“æ„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/38cf7e/#zookeeperåº”ç”¨åœºæ™¯" class="sidebar-link">zookeeperåº”ç”¨åœºæ™¯</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#æœ¬åœ°æ¨¡å¼å®‰è£…zookeeper" class="sidebar-link">æœ¬åœ°æ¨¡å¼å®‰è£…zookeeper</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#å¯åŠ¨zookeeper" class="sidebar-link">å¯åŠ¨zookeeper</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#zookeeperé€‰ä¸¾masterå†…éƒ¨åŸç†ç®€æ" class="sidebar-link">zookeeperé€‰ä¸¾masterå†…éƒ¨åŸç†ç®€æ</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#èŠ‚ç‚¹ç±»å‹" class="sidebar-link">èŠ‚ç‚¹ç±»å‹</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#zookeeperé›†ç¾¤æ­å»º" class="sidebar-link">zookeeperé›†ç¾¤æ­å»º</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#zookeeper-shell" class="sidebar-link">zookeeper shell</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#zookeeperç›‘å¬å™¨åŸç†" class="sidebar-link">zookeeperç›‘å¬å™¨åŸç†</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#å¸¸è§çš„ç›‘å¬" class="sidebar-link">å¸¸è§çš„ç›‘å¬</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#é¢è¯•ä¸»è¦è€ƒå¯Ÿç‚¹" class="sidebar-link">é¢è¯•ä¸»è¦è€ƒå¯Ÿç‚¹</a></li><li class="sidebar-sub-header level2"><a href="/pages/38cf7e/#ä¸Šæ‰‹ä»£ç åœ°å€-https-gitee-com-arnoldsu-zookeeper" class="sidebar-link">ä¸Šæ‰‹ä»£ç åœ°å€:https://gitee.com/ArnoldSu/zookeeper</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/technology/#technology" data-v-06225672>technology</a></li><li data-v-06225672><a href="/technology/#Distributed" data-v-06225672>Distributed</a></li></ul> <div class="info" data-v-06225672><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/ArnoldShu" target="_blank" title="ä½œè€…" class="beLink" data-v-06225672>Arnold Shu</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-12-28</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">åˆ†å¸ƒå¼åè°ƒæœåŠ¡ä¹‹ZooKeeper<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="zookeeper"><a href="#zookeeper" class="header-anchor">#</a> Zookeeper</h2> <p><strong>Apache ZooKeeper</strong>æ˜¯<a href="https://zh.wikipedia.org/wiki/Apache%E8%BD%AF%E4%BB%B6%E5%9F%BA%E9%87%91%E4%BC%9A" target="_blank" rel="noopener noreferrer">Apacheè½¯ä»¶åŸºé‡‘ä¼š<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„ä¸€ä¸ªè½¯ä»¶é¡¹ç›®ï¼Œå®ƒä¸ºå¤§å‹<a href="https://zh.wikipedia.org/wiki/%E5%88%86%E5%B8%83%E5%BC%8F%E8%AE%A1%E7%AE%97" target="_blank" rel="noopener noreferrer">åˆ†å¸ƒå¼è®¡ç®—<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æä¾›<a href="https://zh.wikipedia.org/wiki/%E5%BC%80%E6%BA%90" target="_blank" rel="noopener noreferrer">å¼€æº<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„åˆ†å¸ƒå¼é…ç½®æœåŠ¡ã€åŒæ­¥æœåŠ¡å’Œå‘½åæ³¨å†Œã€‚ZooKeeperæ›¾ç»æ˜¯<a href="https://zh.wikipedia.org/wiki/Hadoop" target="_blank" rel="noopener noreferrer">Hadoop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œä½†ç°åœ¨æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¶çº§é¡¹ç›®ã€‚</p> <p>zookeeper:å®šä¹‰æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼,ä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›åè°ƒæœåŠ¡çš„Apacheçš„é¡¹ç›®ã€‚
zookeeperæ˜¯ä¸€ä¸ªåŸºäºè§‚å¯Ÿè€…æ¨¡å¼è®¾è®¡çš„<strong>åˆ†å¸ƒå¼æœåŠ¡ç®¡ç†æ¡†æ¶</strong>,è´Ÿè´£å­˜å‚¨å’Œç®¡ç†å¤§å®¶çš„å…³å¿ƒçš„æ•°æ®,ç„¶åæ¥å—è§‚å¯Ÿè€…æ³¨å†Œ,ä¸€æ—¦æ•°æ®çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–,zookeeperå°†è´Ÿè´£é€šçŸ¥å·²ç»åœ¨zookeeperä¸Šæ³¨å†Œçš„é‚£äº›è§‚å¯Ÿè€…åšå‡ºç›¸åº”çš„ååº”	
<strong>zookeeper= æ–‡ä»¶ç³»ç»Ÿ+é€šçŸ¥æœºåˆ¶</strong></p> <p>ç‰¹ç‚¹</p> <ul><li>ä¸€ä¸ªleader ,å¤šä¸ªfollowerç»„æˆçš„é›†ç¾¤</li> <li>é›†ç¾¤ä¸­åªè¦åŠæ•°ä»¥ä¸Šçš„èŠ‚ç‚¹å­˜æ´»,zookeeperé›†ç¾¤å°±èƒ½æ­£å¸¸æœåŠ¡</li> <li>å…¨å±€æ•°æ®ä¸€è‡´,æ¯ä¸ªserverä¿å­˜ä¸€ä»½ç›¸åŒçš„æ•°æ®å‰¯æœ¬,clientæ— è®ºé“¾æ¥é‚£ä¸ªserver,æ•°æ®éƒ½æ˜¯ä¸€è‡´çš„</li> <li>æ›´æ–°è¯·æ±‚é¡ºåºè¿›è¡Œ,æ¥è‡ªåŒä¸€ä¸ªclientçš„æ›´æ–°è¯·æ±‚æŒ‰å…¶å‘é€é¡ºåºä¾æ¬¡æ‰§è¡Œ</li> <li>æ•°æ®æ›´æ–°åŸå­æ€§,è¦ä¹ˆæˆåŠŸè¦ä¹ˆå¤±è´¥</li> <li>å®æ—¶æ€§,ä¸€å®šæ—¶é—´èŒƒå›´å†…,clientèƒ½è¯»åˆ°æœ€æ–°æ•°æ®</li></ul> <h2 id="zookeeperçš„æ•°æ®ç»“æ„"><a href="#zookeeperçš„æ•°æ®ç»“æ„" class="header-anchor">#</a> zookeeperçš„æ•°æ®ç»“æ„</h2> <p>æ•°æ®æ¨¡å‹çš„ç»“æ„ä¸Unixæ–‡ä»¶ç³»ç»Ÿå¾ˆç›¸ä¼¼,æ•´ä½“ä¸Šå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ ‘,æ¯ä¸ªèŠ‚ç‚¹ç§°ä½œä¸€ä¸ªZNode,æ¯ä¸ªZNodeé»˜è®¤èƒ½å¤Ÿå­˜å‚¨1mbçš„æ•°æ®,æ¯ä¸ªZNodeéƒ½å¯ä»¥é€šè¿‡å…¶è·¯å¾„å”¯ä¸€æ ‡è¯†</p> <h3 id="zookeeperåº”ç”¨åœºæ™¯"><a href="#zookeeperåº”ç”¨åœºæ™¯" class="header-anchor">#</a> <strong>zookeeperåº”ç”¨åœºæ™¯</strong></h3> <ul><li><strong>ç»Ÿä¸€å‘½åæœåŠ¡</strong>
åˆ†å¸ƒå¼ç¯å¢ƒä¸‹,ç»å¸¸éœ€è¦å¯¹åº”ç”¨/æœåŠ¡è¿›è¡Œç»Ÿä¸€å‘½å,ä¾¿äºè¯†åˆ«(ä¾‹å¦‚:ipä¸å®¹æ˜“è¯†åˆ«,åŸŸåå®¹æ˜“è®°ä½)</li> <li><strong>ç»Ÿä¸€é…ç½®ç®¡ç†</strong>
åˆ†å¸ƒå¼ç¯å¢ƒä¸‹é…ç½®æ–‡ä»¶åŒæ­¥éå¸¸å¸¸è§(é›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„é…ç½®ä¿¡æ¯æ˜¯ä¸€è‡´çš„.ä¾‹å¦‚Kafkaé›†ç¾¤,é…ç½®æ–‡ä»¶ä¿®æ”¹å,å¸Œæœ›èƒ½å¤Ÿå¿«é€ŸåŒæ­¥åˆ°å„ä¸ªèŠ‚ç‚¹,é…ç½®ç®¡ç†å¯äº¤ç”±zookeeper,å¯å°†é…ç½®ä¿¡æ¯å†™å…¥zookeeperä¸Šçš„ä¸€ä¸ªZnode,å„ä¸ªå®¢æˆ·ç«¯æœåŠ¡å™¨ç›‘å¬è¿™ä¸ªZnode,ä¸€æ—¦Znodeä¸­çš„æ•°æ®è¢«ä¿®æ”¹,Zookeeperå°†é€šçŸ¥å„ä¸ªå®¢æˆ·ç«¯æœåŠ¡å™¨)</li> <li><strong>ç»Ÿä¸€é›†ç¾¤ç®¡ç†</strong>	
åˆ†å¸ƒå¼ç¯å¢ƒä¸‹,å®æ—¶æŒæ¡å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€(å¯æ ¹æ®èŠ‚ç‚¹å®æ—¶çŠ¶æ€åšå‡ºä¸€äº›è°ƒæ•´,å®æ—¶ç›‘æ§èŠ‚ç‚¹çŠ¶æ€å˜åŒ–,å¯å°†èŠ‚ç‚¹ä¿¡æ¯å†™å…¥Znode,ç›‘å¬è¿™ä¸ªZnodeå¯è·å–å®ƒçš„å®æ—¶çŠ¶æ€å˜åŒ–)</li> <li><strong>æœåŠ¡å™¨èŠ‚ç‚¹åŠ¨æ€ä¸Šä¸‹çº¿</strong>
å®æ—¶æ´å¯ŸæœåŠ¡å™¨çš„ä¸Šä¸‹çº¿</li> <li><strong>è½¯è´Ÿè½½å‡è¡¡ç­‰</strong>
è®°å½•æ¯å°æœåŠ¡å™¨çš„è®¿é—®æ•°,è®©è®¿é—®æ•°æœ€å°‘çš„æœåŠ¡å™¨å»å¤„ç†æœ€æ–°çš„å®¢æˆ·ç«¯è¯·æ±‚</li></ul> <p>ä¸‹è½½åœ°å€:<a href="http://archive.apache.org/dist/zookeeper/" target="_blank" rel="noopener noreferrer">http://archive.apache.org/dist/zookeeper/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="æœ¬åœ°æ¨¡å¼å®‰è£…zookeeper"><a href="#æœ¬åœ°æ¨¡å¼å®‰è£…zookeeper" class="header-anchor">#</a> æœ¬åœ°æ¨¡å¼å®‰è£…zookeeper</h2> <ul><li>å®‰è£…jdk</li> <li>ä¸‹è½½zookeeperåŒ…åˆ°linuxä½ æŒ‡å®šçš„ç›®å½•,å¹¶è§£å‹</li> <li>é…ç½®ä¿®æ”¹
è§£å‹æ–‡ä»¶çš„confæ–‡ä»¶å¤¹ä¸‹zoo_sample.cfg æ–‡ä»¶ä¿®æ”¹ä¸ºzoo.cfg
ä¿®æ”¹zoo.cfg ä¿®æ”¹dataDirè·¯å¾„(å­˜å‚¨æ•°æ®è·¯å¾„)</li></ul> <p>zoo.cfg é…ç½®å‚æ•°</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># The number of milliseconds of each tick å¿ƒè·³åŒ…æ—¶é—´é—´éš”</span>
<span class="token assign-left variable">tickTime</span><span class="token operator">=</span><span class="token number">2000</span> 
<span class="token comment"># The number of ticks that the initial åˆå§‹åŒ–æœ€å¤§æ—¶å»¶tickTime*initLimit,leaderä¸followerè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±æ–­æ‰,é€šè®¯æœºåˆ¶</span>
<span class="token comment"># synchronization phase can take</span>
<span class="token assign-left variable">initLimit</span><span class="token operator">=</span><span class="token number">10</span> 
<span class="token comment"># The number of ticks that can pass between</span>
<span class="token comment"># sending a request and getting an acknowledgement å¯åŠ¨å®Œæˆä¹‹åçš„æœ€å¤§æ—¶å»¶tickTime*syncLimit,leaderä¸followerè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±æ–­æ‰,é€šè®¯æœºåˆ¶</span>
<span class="token assign-left variable">syncLimit</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token comment"># the directory where the snapshot is stored.</span>
<span class="token comment"># do not use /tmp for storage, /tmp here is just å­˜å‚¨æ•°æ®çš„åœ°æ–¹</span>
<span class="token comment"># example sakes.</span>
<span class="token assign-left variable">dataDir</span><span class="token operator">=</span>/home/zookeeper/zkdata
<span class="token comment"># the port at which the clients will connect å®¢æˆ·ç«¯ç«¯å£å·</span>
<span class="token assign-left variable">clientPort</span><span class="token operator">=</span><span class="token number">2181</span>
<span class="token comment"># the maximum number of client connections.</span>
<span class="token comment"># increase this if you need to handle more clients å®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•° </span>
<span class="token comment">#maxClientCnxns=60</span>
<span class="token comment">#</span>
<span class="token comment"># Be sure to read the maintenance section of the</span>
<span class="token comment"># administrator guide before turning on autopurge.</span>
<span class="token comment">#</span>
<span class="token comment"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span>
<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>â€‹</p> <h2 id="å¯åŠ¨zookeeper"><a href="#å¯åŠ¨zookeeper" class="header-anchor">#</a> å¯åŠ¨zookeeper</h2> <p>binç›®å½•ä¸‹</p> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code>zkCleanup<span class="token punctuation">.</span>sh
zkCli<span class="token punctuation">.</span>cmd å®¢æˆ·ç«¯
zkCli<span class="token punctuation">.</span>sh å®¢æˆ·ç«¯
	å›è½¦æ— å‚å¯åŠ¨ 
	quit é€€å‡ºå®¢æˆ·ç«¯

	
zkEnv<span class="token punctuation">.</span>cmd
zkEnv<span class="token punctuation">.</span>sh
zkServer<span class="token punctuation">.</span>cmd æœåŠ¡ç«¯
zkServer<span class="token punctuation">.</span>sh æœåŠ¡ç«¯
	<span class="token function">start</span> å¯åŠ¨
	status çŠ¶æ€
	stop å…³é—­
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="zookeeperé€‰ä¸¾masterå†…éƒ¨åŸç†ç®€æ"><a href="#zookeeperé€‰ä¸¾masterå†…éƒ¨åŸç†ç®€æ" class="header-anchor">#</a> zookeeperé€‰ä¸¾masterå†…éƒ¨åŸç†ç®€æ</h2> <p><strong>åŠæ•°æœºåˆ¶:é›†ç¾¤ä¸­åªè¦åŠæ•°ä»¥ä¸Šæœºå™¨å­˜æ´»,é›†ç¾¤å¯ç”¨,é›†ç¾¤é€‚åˆå¥‡æ•°å°æœåŠ¡å™¨
serverå¯åŠ¨æ²¡æœ‰å†å²æ•°æ®çš„æƒ…å†µä¸‹,å…ˆè‡ªæŠ•,é€‰ä¸¾çŠ¶æ€ä¸€ç›´æ˜¯looking,é›†ç¾¤ç›¸äº’äº¤æ¢é€‰ä¸¾ä¿¡æ¯,æ‰€ä»¥ååŠ çš„serverç¥¨æ•°æ›´å¤š,è¶…è¿‡åŠæ•°ä»¥ä¸Šçš„æŠ•ç¥¨ä½œä¸ºleader ,å…¶ä»–ä¸ºfollower</strong></p> <h2 id="èŠ‚ç‚¹ç±»å‹"><a href="#èŠ‚ç‚¹ç±»å‹" class="header-anchor">#</a> èŠ‚ç‚¹ç±»å‹</h2> <ul><li><strong>æŒä¹…(Persistent)èŠ‚ç‚¹</strong> å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ–­å¼€åèŠ‚ç‚¹ä¸åˆ é™¤</li> <li><strong>ä¸´æ—¶(Ephemeral)èŠ‚ç‚¹</strong> å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ–­å¼€åèŠ‚ç‚¹è‡ªåˆ é™¤</li></ul> <h2 id="zookeeperé›†ç¾¤æ­å»º"><a href="#zookeeperé›†ç¾¤æ­å»º" class="header-anchor">#</a> zookeeperé›†ç¾¤æ­å»º</h2> <ul><li>é¦–å…ˆå•æœºzookeeperè£…å¥½</li> <li>é›†ç¾¤ç¯å¢ƒå–„äºåˆ©ç”¨xsyncè„šæœ¬åŒæ­¥æ–‡ä»¶æ•°æ®</li> <li>åœ¨ç›¸åº”çš„æŒ‡å®šç›®å½•çº¿é¢åˆ›å»ºèŠ‚ç‚¹ä¿¡æ¯,zkdataåœ¨èŠ‚ç‚¹ä¸‹	åˆ›å»ºä¸€ä¸ªmyidæ–‡ä»¶å…¶ä¸­çš„å°±æ˜¯å¯¹åº”ç›¸åº”çš„serverå”¯ä¸€æ ‡è¯†,åˆ›å»ºååŒæ­¥åˆ°è¿›ç¾¤ä¿¡æ¯ä¸­å¹¶ä¿®æ”¹æˆç›¸åº”çš„æœºå™¨çš„å”¯ä¸€æ ‡è¯†</li> <li>ä¿®æ”¹zoo.cfgæ–‡ä»¶dataDiræ–‡ä»¶è·¯å¾„åˆ°æŒ‡å®šç›®å½•,æ·»åŠ é›†ç¾¤é…ç½®
server.A=B:C:D
Aå¯¹åº”ä¸€ä¸ªæœåŠ¡å™¨çš„ä½ åœ¨myidé‡Œé¢é…ç½®çš„å”¯ä¸€æ ‡è¯† 	Bæ˜¯ä¸€ä¸ªipæˆ–è€…ä¸»æœºå  Cæ˜¯æœ¬æœåŠ¡å™¨ä¸é›†ç¾¤ä¸­çš„leaderæœåŠ¡å™¨äº¤æ¢ä¿¡æ¯çš„ç«¯å£ D æ˜¯é›†ç¾¤ä¸­çš„leaderæŒ‚æ‰ä¹‹å,ä»æ–°é€‰ä¸¾é€šä¿¡çš„ç«¯å£
<strong>ç‰¹åˆ«æ³¨æ„,é›†ç¾¤æ£€éªŒéœ€è¦æŠŠæ‰€æœ‰é›†ç¾¤æœºå™¨å¯åŠ¨</strong></li></ul> <h2 id="zookeeper-shell"><a href="#zookeeper-shell" class="header-anchor">#</a> zookeeper shell</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>å®¢æˆ·ç«¯å‘½ä»¤
<span class="token builtin class-name">help</span> æ˜¾ç¤ºæ‰€æœ‰æ“ä½œå‘½ä»¤

<span class="token function">ls</span>  æ˜¾ç¤ºå½“å‰znodeæ‰€åŒ…å«çš„æ•°æ®å†…å®¹  eg:ls /

ls2 / æ˜¾ç¤ºå½“å‰èŠ‚ç‚¹èŠ‚ç‚¹çš„è¯¦ç»†æ•°æ® eg: ls2 /

create 
åˆ›å»ºèŠ‚ç‚¹<span class="token punctuation">(</span>å¦‚æœä¸å†™å…¥æ•°æ®,åˆ™æ— æ³•åˆ›å»ºç›¸åº”èŠ‚ç‚¹<span class="token punctuation">)</span> eg:create /master <span class="token string">&quot;master&quot;</span>
åˆ›å»ºçŸ­æš‚èŠ‚ç‚¹ eg:create <span class="token parameter variable">-e</span> /master1 <span class="token string">&quot;master1&quot;</span>
åˆ›å»ºå¸¦åºå·çš„èŠ‚ç‚¹ eg:create <span class="token parameter variable">-s</span> /master3 <span class="token string">&quot;master3&quot;</span>


get è·å¾—èŠ‚ç‚¹çš„å€¼ eg:get /master 

æ˜¾ç¤ºç»“æ„ä½“çš„å­—æ®µå±æ€§ 
<span class="token number">23134234</span>
cZxid <span class="token operator">=</span> 0x100000002			åˆ›å»ºèŠ‚ç‚¹çš„äº‹åŠ¡zxid 
ctime <span class="token operator">=</span> Wed Feb <span class="token number">26</span> <span class="token number">23</span>:39:12 CST <span class="token number">2020</span>			znodeåˆ›å»ºçš„æ¯«ç§’æ•°
mZxid <span class="token operator">=</span> 0x10000000e			znodeæœ€åæ›´æ–°äº‹åŠ¡çš„zxid
mtime <span class="token operator">=</span> Thu Feb <span class="token number">27</span> 00:25:55 CST <span class="token number">2020</span> æœ€åä¿®æ”¹çš„æ¯«ç§’æ•° 
pZxid <span class="token operator">=</span> 0x100000002			æœ€åæ›´æ–°å­èŠ‚ç‚¹çš„zxid
cversion <span class="token operator">=</span> <span class="token number">0</span>			znodeå­èŠ‚ç‚¹çš„å˜åŒ–å·,znodeå­èŠ‚ç‚¹çš„ä¿®æ”¹æ¬¡æ•°
dataVersion <span class="token operator">=</span> <span class="token number">2</span>			znodeæ•°æ®å˜åŒ–å·
aclVersion <span class="token operator">=</span> <span class="token number">0</span>			znodeè®¿é—®æ§åˆ¶åˆ—è¡¨çš„å˜åŒ–å·
ephemeralOwner <span class="token operator">=</span> 0x0			å¦‚æœæ˜¯ä¸´æ—¶èŠ‚ç‚¹,è¿™æ˜¯znodeæ‹¥æœ‰è€…å¾—session_id,å¦‚æœä¸æ˜¯åˆ™æ˜¯0
dataLength <span class="token operator">=</span> <span class="token number">8</span>				znodeæ•°æ®é•¿åº¦ 
numChildren <span class="token operator">=</span> <span class="token number">0</span>				znodeå­èŠ‚ç‚¹çš„æ•°é‡


<span class="token builtin class-name">set</span> ä¿®æ”¹èŠ‚ç‚¹çš„å€¼ eg:set /master1 <span class="token string">&quot;master111111&quot;</span>

<span class="token function">watch</span> ç›‘å¬èŠ‚ç‚¹å€¼å˜åŒ– eg:get /master <span class="token function">watch</span>  ä¸€æ¬¡æœ‰æ•ˆ

delete 
åˆ é™¤èŠ‚ç‚¹ eg:delete /master
é€’å½’åˆ é™¤èŠ‚ç‚¹ eg:rmr /master 

<span class="token function">stat</span> æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€ <span class="token function">stat</span> /master 

quit é€€å‡ºå®¢æˆ·ç«¯
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h2 id="zookeeperç›‘å¬å™¨åŸç†"><a href="#zookeeperç›‘å¬å™¨åŸç†" class="header-anchor">#</a> zookeeperç›‘å¬å™¨åŸç†</h2> <ul><li>åˆ›å»ºä¸€ä¸ªmainçº¿ç¨‹</li> <li>å…¶ä¸­åœ¨mainçº¿ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªzookeeperçš„å®¢æˆ·ç«¯,åŒæ—¶è¿™ä¸ªå®¢æˆ·ç«¯æ‹¥æœ‰ä¸¤ä¸ªçº¿ç¨‹,ä¸€ä¸ªè´Ÿè´£ç½‘ç»œé€šä¿¡(connection)ä¸€ä¸ªè´Ÿè´£ç›‘å¬(listener)</li> <li>é€šè¿‡connectionå°†æ³¨å†Œçš„ç›‘å¬äº‹ä»¶å‘é€ç»™zookeeper</li> <li>åœ¨zookeeperçš„æ³¨å†Œç›‘å¬å™¨åˆ—è¡¨å°†æ³¨å†Œçš„ç›‘å¬äº‹ä»¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­</li> <li>zookeeperç›‘å¬åˆ°æ•°æ®æˆ–è€…è·¯å¾„å˜åŒ–,å°±ä¼šå°†è¿™ä¸ªæ¶ˆæ¯å‘Šè¯‰ç»™listenerçº¿ç¨‹</li> <li>listenerå°±ä¼šè°ƒç”¨ç›¸åº”çš„process()æ–¹æ³•å¤„ç†</li></ul> <h2 id="å¸¸è§çš„ç›‘å¬"><a href="#å¸¸è§çš„ç›‘å¬" class="header-anchor">#</a> å¸¸è§çš„ç›‘å¬</h2> <p>ç›‘å¬èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–
<strong>get path [watch]</strong></p> <p>ç›‘å¬å­èŠ‚ç‚¹çš„å¢å‡å˜åŒ–
<strong>ls path [watch]</strong></p> <h2 id="é¢è¯•ä¸»è¦è€ƒå¯Ÿç‚¹"><a href="#é¢è¯•ä¸»è¦è€ƒå¯Ÿç‚¹" class="header-anchor">#</a> é¢è¯•ä¸»è¦è€ƒå¯Ÿç‚¹</h2> <p><strong>zookeeperçš„é€‰ä¸¾æœºåˆ¶,åŠæ•°æŠ•ç¥¨æœºåˆ¶
zookeeperçš„ç›‘å¬åŸç†
zookeeperçš„éƒ¨ç½²æ–¹å¼(å•æœº,é›†ç¾¤,ä¼ªé›†ç¾¤),é›†ç¾¤ä¸­çš„è§’è‰²(leader,follower),é›†ç¾¤è‡³å°‘ä¸‰å°æœåŠ¡å™¨
zookeeperçš„å¸¸ç”¨å‘½ä»¤</strong></p> <h2 id="ä¸Šæ‰‹ä»£ç åœ°å€-https-gitee-com-arnoldsu-zookeeper"><a href="#ä¸Šæ‰‹ä»£ç åœ°å€-https-gitee-com-arnoldsu-zookeeper" class="header-anchor">#</a> ä¸Šæ‰‹ä»£ç åœ°å€:<a href="https://gitee.com/ArnoldSu/zookeeper" target="_blank" rel="noopener noreferrer">https://gitee.com/ArnoldSu/zookeeper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>â€‹		
â€‹	
â€‹		
â€‹		
â€‹</p> <p>å‚è€ƒé“¾æ¥</p> <p><a href="https://zh.wikipedia.org/zh-cn/Apache_ZooKeeper" target="_blank" rel="noopener noreferrer">Wikipedia Apache ZooKeeper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>â€‹</p></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=ZAB" title="æ ‡ç­¾">#ZAB</a><a href="/tags/?tag=Zookeeper" title="æ ‡ç­¾">#Zookeeper</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/f96294/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">åˆ†å¸ƒå¼â€œä¸€è‡´æ€§â€ç®—æ³•ä¹‹Raft</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/f96294/" class="prev">åˆ†å¸ƒå¼â€œä¸€è‡´æ€§â€ç®—æ³•ä¹‹Raft</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/f96294/"><div>
            åˆ†å¸ƒå¼â€œä¸€è‡´æ€§â€ç®—æ³•ä¹‹Raft
            <!----></div></a> <span class="date">12-28</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/96ffb3/"><div>
            å¸¸ç”¨åˆ†å¸ƒå¼äº‹åŠ¡åè®®
            <!----></div></a> <span class="date">12-28</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/e6f89c/"><div>
            åˆ†å¸ƒå¼â€œä¸€è‡´æ€§â€ç®—æ³•ä¹‹Paxos
            <!----></div></a> <span class="date">12-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/ArnoldShu" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/ArnoldSu" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://blog.csdn.net/qq_20340547?type=blog" title="CSDN" target="_blank" class="iconfont icon-csdn"></a><a href="https://twitter.com/98AK_Arnold" title="twitter" target="_blank" class="iconfont icon-twitter"></a><a href="mailto:409196007@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://music.163.com/#/playlist?id=105267835" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2017-2024
    <span>Arnold Shu | <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-SA 4.0 License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.af3fcf5c.js" defer></script><script src="/assets/js/2.4c32fe8d.js" defer></script><script src="/assets/js/28.2133d3df.js" defer></script>
  </body>
</html>
